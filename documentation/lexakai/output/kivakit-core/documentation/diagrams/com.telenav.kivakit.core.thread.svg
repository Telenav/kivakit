<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1564.5833px" preserveAspectRatio="none" style="width:3421px;height:1564px;background:#333333;" version="1.1" viewBox="0 0 3421 1564" width="3421.875px" zoomAndPan="magnify"><defs/><g><rect fill="#48494B" height="41.2028" rx="8.3333" ry="8.3333" style="stroke:#545454;stroke-width:1.0416666666666667;" width="335.4167" x="1535.9375" y="2.0833"/><text fill="#C0C0C0" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="20.8333" lengthAdjust="spacing" textLength="312.5" x="1547.3958" y="30.5583">com.telenav.kivakit.core.thread</text><!--MD5=[a5548e21786f7e80caab10882b0add56]
cluster Batcher--><polygon fill="#333333" points="2954.1667,538.5986,3014.5833,538.5986,3021.875,565.8203,3245.8333,565.8203,3245.8333,660.4736,2954.1667,660.4736,2954.1667,538.5986" style="stroke:#333333;stroke-width:2.0833333333333335;"/><line style="stroke:#333333;stroke-width:2.0833333333333335;" x1="2954.1667" x2="3021.875" y1="565.8203" y2="565.8203"/><text fill="#C8AC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="47.9167" x="2961.4583" y="555.8919">Batcher</text><!--MD5=[f2bb08b4352646a1467568a0930ac450]
cluster ReentrancyTracker--><polygon fill="#333333" points="3256.25,52.6611,3387.5,52.6611,3394.7917,79.8828,3404.1667,79.8828,3404.1667,237.0361,3256.25,237.0361,3256.25,52.6611" style="stroke:#333333;stroke-width:2.0833333333333335;"/><line style="stroke:#333333;stroke-width:2.0833333333333335;" x1="3256.25" x2="3394.7917" y1="79.8828" y2="79.8828"/><text fill="#C8AC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="118.75" x="3263.5417" y="69.9544">ReentrancyTracker</text><!--MD5=[ed0c9d13bc9396a9a38cb4f6ccdf18fa]
class Batcher.Batch--><rect codeLine="19" fill="#282828" height="48.055" id="Batcher.Batch" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="72.9167" x="3147.9167" y="587.557"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="72.9167" x="3147.9167" y="587.557"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="72.9167" x="3147.9167" y="610.612"/><rect codeLine="19" fill="none" height="48.055" id="Batcher.Batch" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="72.9167" x="3147.9167" y="587.557"/><ellipse cx="3162.5" cy="603.2511" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M3164.4104,607.6762 Q3163.9832,607.8959 3163.5132,608.0058 Q3163.0432,608.1156 3162.5244,608.1156 Q3160.6812,608.1156 3159.7107,606.901 Q3158.7402,605.6864 3158.7402,603.3915 Q3158.7402,601.0905 3159.7107,599.8759 Q3160.6812,598.6613 3162.5244,598.6613 Q3163.0432,598.6613 3163.5193,598.7712 Q3163.9954,598.881 3164.4104,599.1007 L3164.4104,601.1027 Q3163.9465,600.6755 3163.5101,600.4771 Q3163.0737,600.2787 3162.6099,600.2787 Q3161.6211,600.2787 3161.1176,601.063 Q3160.614,601.8473 3160.614,603.3915 Q3160.614,604.9296 3161.1176,605.7139 Q3161.6211,606.4982 3162.6099,606.4982 Q3163.0737,606.4982 3163.5101,606.2998 Q3163.9465,606.1015 3164.4104,605.6742 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="35.4167" x="3179.1667" y="607.9753">Batch</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="3148.9583" x2="3219.7917" y1="618.9453" y2="618.9453"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="3148.9583" x2="3219.7917" y1="627.2786" y2="627.2786"/><!--MD5=[7d1515b7b28d8bb888ffab022788fc34]
class Batcher.BatchAdder--><rect codeLine="25" fill="#282828" height="48.055" id="Batcher.BatchAdder" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="111.4583" x="2999.4792" y="587.557"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="111.4583" x="2999.4792" y="587.557"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="111.4583" x="2999.4792" y="610.612"/><rect codeLine="25" fill="none" height="48.055" id="Batcher.BatchAdder" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="111.4583" x="2999.4792" y="587.557"/><ellipse cx="3014.0625" cy="603.2511" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M3015.9729,607.6762 Q3015.5457,607.8959 3015.0757,608.0058 Q3014.6057,608.1156 3014.0869,608.1156 Q3012.2437,608.1156 3011.2732,606.901 Q3010.3027,605.6864 3010.3027,603.3915 Q3010.3027,601.0905 3011.2732,599.8759 Q3012.2437,598.6613 3014.0869,598.6613 Q3014.6057,598.6613 3015.0818,598.7712 Q3015.5579,598.881 3015.9729,599.1007 L3015.9729,601.1027 Q3015.509,600.6755 3015.0726,600.4771 Q3014.6362,600.2787 3014.1724,600.2787 Q3013.1836,600.2787 3012.6801,601.063 Q3012.1765,601.8473 3012.1765,603.3915 Q3012.1765,604.9296 3012.6801,605.7139 Q3013.1836,606.4982 3014.1724,606.4982 Q3014.6362,606.4982 3015.0726,606.2998 Q3015.509,606.1015 3015.9729,605.6742 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="73.9583" x="3030.7292" y="607.9753">BatchAdder</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="3000.5208" x2="3109.8958" y1="618.9453" y2="618.9453"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="3000.5208" x2="3109.8958" y1="627.2786" y2="627.2786"/><!--MD5=[d7f63905fa88da08f16c4e2618df6448]
class ReentrancyTracker.Reentrancy--><rect codeLine="101" fill="#282828" height="127.0345" id="ReentrancyTracker.Reentrancy" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="113.5417" x="3273.4375" y="93.2861"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="113.5417" x="3273.4375" y="93.2861"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="113.5417" x="3273.4375" y="116.3411"/><rect codeLine="101" fill="none" height="127.0345" id="ReentrancyTracker.Reentrancy" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="113.5417" x="3273.4375" y="93.2861"/><ellipse cx="3290.3646" cy="108.9803" fill="#CF6300" rx="10.4167" ry="10.4167" style="stroke:#EF8300;stroke-width:1.0416666666666667;"/><path d="M3293.4204,113.6678 L3287.7441,113.6678 L3287.7441,104.5553 L3293.4204,104.5553 L3293.4204,106.1422 L3289.5447,106.1422 L3289.5447,108.1075 L3293.0542,108.1075 L3293.0542,109.6944 L3289.5447,109.6944 L3289.5447,112.0809 L3293.4204,112.0809 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="70.8333" x="3307.5521" y="113.7044">Reentrancy</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="3274.4792" x2="3385.9375" y1="124.6745" y2="124.6745"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="50" x="3282.8125" y="143.044">ENTERED</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="38.5417" x="3282.8125" y="162.7889">EXITED</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="94.7917" x="3282.8125" y="182.5338">EXITED_REENTRY</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="63.5417" x="3282.8125" y="202.2786">REENTERED</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="3274.4792" x2="3385.9375" y1="211.9873" y2="211.9873"/><!--MD5=[832291cb347979b380a525daae354850]
class AbstractMap--><rect codeLine="7" fill="#282828" height="48.055" id="AbstractMap" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="118.75" x="2722.9167" y="132.8695"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="118.75" x="2722.9167" y="132.8695"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="118.75" x="2722.9167" y="155.9245"/><rect codeLine="7" fill="none" height="48.055" id="AbstractMap" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="118.75" x="2722.9167" y="132.8695"/><ellipse cx="2737.5" cy="148.5636" fill="#C8AC00" rx="10.4167" ry="10.4167" style="stroke:#D8BC00;stroke-width:1.0416666666666667;"/><path d="M2737.0931,145.2657 L2736.2447,148.995 L2737.9476,148.995 Z M2735.9945,143.6178 L2738.1978,143.6178 L2740.6576,152.7303 L2738.857,152.7303 L2738.2955,150.4781 L2735.8846,150.4781 L2735.3353,152.7303 L2733.5347,152.7303 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="81.25" x="2754.1667" y="153.2878">AbstractMap</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2723.9583" x2="2840.625" y1="164.2578" y2="164.2578"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2723.9583" x2="2840.625" y1="172.5911" y2="172.5911"/><!--MD5=[762aa3d0df6a9d47bd8e105afbd066b5]
class BaseRepeater--><rect codeLine="8" fill="#282828" height="48.055" id="BaseRepeater" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="123.9583" x="1007.8125" y="132.8695"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="123.9583" x="1007.8125" y="132.8695"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="123.9583" x="1007.8125" y="155.9245"/><rect codeLine="8" fill="none" height="48.055" id="BaseRepeater" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="123.9583" x="1007.8125" y="132.8695"/><ellipse cx="1022.3958" cy="148.5636" fill="#C8AC00" rx="10.4167" ry="10.4167" style="stroke:#D8BC00;stroke-width:1.0416666666666667;"/><path d="M1021.9889,145.2657 L1021.1405,148.995 L1022.8434,148.995 Z M1020.8903,143.6178 L1023.0937,143.6178 L1025.5534,152.7303 L1023.7528,152.7303 L1023.1913,150.4781 L1020.7804,150.4781 L1020.2311,152.7303 L1018.4306,152.7303 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="86.4583" x="1039.0625" y="153.2878">BaseRepeater</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1008.8542" x2="1130.7292" y1="164.2578" y2="164.2578"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1008.8542" x2="1130.7292" y1="172.5911" y2="172.5911"/><!--MD5=[1c38f4b24c2a8cc40df1b1f481d76b9f]
class Startable--><rect codeLine="10" fill="#282828" height="48.055" id="Startable" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="94.7917" x="2533.8542" y="132.8695"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="94.7917" x="2533.8542" y="132.8695"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="94.7917" x="2533.8542" y="155.9245"/><rect codeLine="10" fill="none" height="48.055" id="Startable" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="94.7917" x="2533.8542" y="132.8695"/><ellipse cx="2548.4375" cy="148.5636" fill="#008400" rx="10.4167" ry="10.4167" style="stroke:#239C23;stroke-width:1.0416666666666667;"/><path d="M2545.8415,145.7255 L2545.8415,144.1386 L2551.2675,144.1386 L2551.2675,145.7255 L2549.4548,145.7255 L2549.4548,151.6642 L2551.2675,151.6642 L2551.2675,153.2511 L2545.8415,153.2511 L2545.8415,151.6642 L2547.6542,151.6642 L2547.6542,145.7255 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="57.2917" x="2565.1042" y="153.2878">Startable</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2534.8958" x2="2627.6042" y1="164.2578" y2="164.2578"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2534.8958" x2="2627.6042" y1="172.5911" y2="172.5911"/><!--MD5=[7c5c88a606935469d5f89b0b5794816c]
class Named--><rect codeLine="11" fill="#282828" height="48.055" id="Named" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="82.2917" x="2141.1458" y="132.8695"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="82.2917" x="2141.1458" y="132.8695"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="82.2917" x="2141.1458" y="155.9245"/><rect codeLine="11" fill="none" height="48.055" id="Named" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="82.2917" x="2141.1458" y="132.8695"/><ellipse cx="2155.7292" cy="148.5636" fill="#008400" rx="10.4167" ry="10.4167" style="stroke:#239C23;stroke-width:1.0416666666666667;"/><path d="M2153.1331,145.7255 L2153.1331,144.1386 L2158.5592,144.1386 L2158.5592,145.7255 L2156.7464,145.7255 L2156.7464,151.6642 L2158.5592,151.6642 L2158.5592,153.2511 L2153.1331,153.2511 L2153.1331,151.6642 L2154.9459,151.6642 L2154.9459,145.7255 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="44.7917" x="2172.3958" y="153.2878">Named</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2142.1875" x2="2222.3958" y1="164.2578" y2="164.2578"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2142.1875" x2="2222.3958" y1="172.5911" y2="172.5911"/><!--MD5=[93b6c7fd318afcbb262a6b60625b068e]
class Addable--><rect codeLine="12" fill="#282828" height="48.055" id="Addable" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="90.625" x="2878.6458" y="132.8695"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="90.625" x="2878.6458" y="132.8695"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="90.625" x="2878.6458" y="155.9245"/><rect codeLine="12" fill="none" height="48.055" id="Addable" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="90.625" x="2878.6458" y="132.8695"/><ellipse cx="2893.2292" cy="148.5636" fill="#008400" rx="10.4167" ry="10.4167" style="stroke:#239C23;stroke-width:1.0416666666666667;"/><path d="M2890.6331,145.7255 L2890.6331,144.1386 L2896.0592,144.1386 L2896.0592,145.7255 L2894.2464,145.7255 L2894.2464,151.6642 L2896.0592,151.6642 L2896.0592,153.2511 L2890.6331,153.2511 L2890.6331,151.6642 L2892.4459,151.6642 L2892.4459,145.7255 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="53.125" x="2909.8958" y="153.2878">Addable</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2879.6875" x2="2968.2292" y1="164.2578" y2="164.2578"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2879.6875" x2="2968.2292" y1="172.5911" y2="172.5911"/><!--MD5=[53ae8b34bebe44116eb8626f99f3fe78]
class Runnable--><rect codeLine="13" fill="#282828" height="48.055" id="Runnable" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="97.9167" x="2260.4167" y="132.8695"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="97.9167" x="2260.4167" y="132.8695"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="97.9167" x="2260.4167" y="155.9245"/><rect codeLine="13" fill="none" height="48.055" id="Runnable" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="97.9167" x="2260.4167" y="132.8695"/><ellipse cx="2275" cy="148.5636" fill="#008400" rx="10.4167" ry="10.4167" style="stroke:#239C23;stroke-width:1.0416666666666667;"/><path d="M2272.404,145.7255 L2272.404,144.1386 L2277.83,144.1386 L2277.83,145.7255 L2276.0173,145.7255 L2276.0173,151.6642 L2277.83,151.6642 L2277.83,153.2511 L2272.404,153.2511 L2272.404,151.6642 L2274.2167,151.6642 L2274.2167,145.7255 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60.4167" x="2291.6667" y="153.2878">Runnable</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2261.4583" x2="2357.2917" y1="164.2578" y2="164.2578"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2261.4583" x2="2357.2917" y1="172.5911" y2="172.5911"/><!--MD5=[02d8e9e1cff711f67da7e3a29e67b3ab]
class Stoppable--><rect codeLine="14" fill="#282828" height="48.055" id="Stoppable" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="102.0833" x="2394.7917" y="132.8695"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="102.0833" x="2394.7917" y="132.8695"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="102.0833" x="2394.7917" y="155.9245"/><rect codeLine="14" fill="none" height="48.055" id="Stoppable" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="102.0833" x="2394.7917" y="132.8695"/><ellipse cx="2409.375" cy="148.5636" fill="#008400" rx="10.4167" ry="10.4167" style="stroke:#239C23;stroke-width:1.0416666666666667;"/><path d="M2406.779,145.7255 L2406.779,144.1386 L2412.205,144.1386 L2412.205,145.7255 L2410.3923,145.7255 L2410.3923,151.6642 L2412.205,151.6642 L2412.205,153.2511 L2406.779,153.2511 L2406.779,151.6642 L2408.5917,151.6642 L2408.5917,145.7255 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="64.5833" x="2426.0417" y="153.2878">Stoppable</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2395.8333" x2="2495.8333" y1="164.2578" y2="164.2578"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2395.8333" x2="2495.8333" y1="172.5911" y2="172.5911"/><!--MD5=[ae2d50f48df0b91d6e6d8bb9570007bd]
class Pausable--><rect codeLine="15" fill="#282828" height="48.055" id="Pausable" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="94.7917" x="2009.8958" y="587.557"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="94.7917" x="2009.8958" y="587.557"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="94.7917" x="2009.8958" y="610.612"/><rect codeLine="15" fill="none" height="48.055" id="Pausable" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="94.7917" x="2009.8958" y="587.557"/><ellipse cx="2024.4792" cy="603.2511" fill="#008400" rx="10.4167" ry="10.4167" style="stroke:#239C23;stroke-width:1.0416666666666667;"/><path d="M2021.8831,600.413 L2021.8831,598.8261 L2027.3092,598.8261 L2027.3092,600.413 L2025.4964,600.413 L2025.4964,606.3517 L2027.3092,606.3517 L2027.3092,607.9386 L2021.8831,607.9386 L2021.8831,606.3517 L2023.6959,606.3517 L2023.6959,600.413 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="57.2917" x="2041.1458" y="607.9753">Pausable</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2010.9375" x2="2103.6458" y1="618.9453" y2="618.9453"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2010.9375" x2="2103.6458" y1="627.2786" y2="627.2786"/><!--MD5=[896702bfce61b73dfbf765415205a76e]
class Sequence--><rect codeLine="16" fill="#282828" height="48.055" id="Sequence" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="97.9167" x="3006.25" y="132.8695"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="97.9167" x="3006.25" y="132.8695"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="97.9167" x="3006.25" y="155.9245"/><rect codeLine="16" fill="none" height="48.055" id="Sequence" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="97.9167" x="3006.25" y="132.8695"/><ellipse cx="3020.8333" cy="148.5636" fill="#008400" rx="10.4167" ry="10.4167" style="stroke:#239C23;stroke-width:1.0416666666666667;"/><path d="M3018.2373,145.7255 L3018.2373,144.1386 L3023.6633,144.1386 L3023.6633,145.7255 L3021.8506,145.7255 L3021.8506,151.6642 L3023.6633,151.6642 L3023.6633,153.2511 L3018.2373,153.2511 L3018.2373,151.6642 L3020.05,151.6642 L3020.05,145.7255 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="60.4167" x="3037.5" y="153.2878">Sequence</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="3007.2917" x2="3103.125" y1="164.2578" y2="164.2578"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="3007.2917" x2="3103.125" y1="172.5911" y2="172.5911"/><!--MD5=[ab8871ed637f40707b866ba6597734bc]
class ArrayList--><rect fill="#282828" height="48.055" id="ArrayList" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="95.8333" x="3140.625" y="132.8695"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="95.8333" x="3140.625" y="132.8695"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="95.8333" x="3140.625" y="155.9245"/><rect fill="none" height="48.055" id="ArrayList" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="95.8333" x="3140.625" y="132.8695"/><ellipse cx="3155.2083" cy="148.5636" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M3157.1187,152.9887 Q3156.6915,153.2084 3156.2215,153.3183 Q3155.7515,153.4281 3155.2327,153.4281 Q3153.3895,153.4281 3152.419,152.2135 Q3151.4486,150.9989 3151.4486,148.704 Q3151.4486,146.403 3152.419,145.1884 Q3153.3895,143.9738 3155.2327,143.9738 Q3155.7515,143.9738 3156.2276,144.0837 Q3156.7037,144.1935 3157.1187,144.4132 L3157.1187,146.4152 Q3156.6549,145.988 3156.2185,145.7896 Q3155.7821,145.5912 3155.3182,145.5912 Q3154.3294,145.5912 3153.8259,146.3755 Q3153.3223,147.1598 3153.3223,148.704 Q3153.3223,150.2421 3153.8259,151.0264 Q3154.3294,151.8107 3155.3182,151.8107 Q3155.7821,151.8107 3156.2185,151.6123 Q3156.6549,151.414 3157.1187,150.9867 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="58.3333" x="3171.875" y="153.2878">ArrayList</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="3141.6667" x2="3235.4167" y1="164.2578" y2="164.2578"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="3141.6667" x2="3235.4167" y1="172.5911" y2="172.5911"/><!--MD5=[8e449857f8c774f75def2d9bd1c3f50d]
class Batcher--><rect codeLine="30" fill="#282828" height="400.3845" id="Batcher" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="358.3333" x="9.375" y="411.5153"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="358.3333" x="9.375" y="411.5153"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="358.3333" x="9.375" y="434.5703"/><rect codeLine="30" fill="none" height="400.3845" id="Batcher" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="358.3333" x="9.375" y="411.5153"/><ellipse cx="134.375" cy="427.2095" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M136.2854,431.6345 Q135.8582,431.8542 135.3882,431.9641 Q134.9182,432.074 134.3994,432.074 Q132.5562,432.074 131.5857,430.8594 Q130.6152,429.6448 130.6152,427.3499 Q130.6152,425.0488 131.5857,423.8342 Q132.5562,422.6196 134.3994,422.6196 Q134.9182,422.6196 135.3943,422.7295 Q135.8704,422.8394 136.2854,423.0591 L136.2854,425.061 Q135.8215,424.6338 135.3851,424.4354 Q134.9487,424.2371 134.4849,424.2371 Q133.4961,424.2371 132.9926,425.0214 Q132.489,425.8057 132.489,427.3499 Q132.489,428.8879 132.9926,429.6722 Q133.4961,430.4565 134.4849,430.4565 Q134.9487,430.4565 135.3851,430.2582 Q135.8215,430.0598 136.2854,429.6326 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="47.9167" x="157.2917" y="431.9336">Batcher</text><rect fill="#333333" height="23.055" style="stroke:#A0A0A0;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" width="43.75" x="327.0833" y="408.3903"/><text fill="#A0A0A0" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="35.4167" x="331.25" y="424.6419">Value</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="10.4167" x2="366.6667" y1="442.9036" y2="442.9036"/><polygon fill="#FFFF44" points="20.8333,473.0652,25,477.2319,20.8333,481.3985,16.6667,477.2319" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="50" x="32.2917" y="485.1847">Batcher()</text><polygon fill="#FFFF44" points="20.8333,492.8101,25,496.9767,20.8333,501.1434,16.6667,496.9767" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="140.625" x="32.2917" y="504.9296">Batcher(Batcher&lt;Value&gt;)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="10.4167" x2="144.7917" y1="461.1094" y2="461.1094"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="81.25" x="147.9167" y="464.919">(constructors)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="232.2917" x2="366.6667" y1="461.1094" y2="461.1094"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="10.4167" x2="366.6667" y1="514.6383" y2="514.6383"/><ellipse cx="20.8333" cy="526.0966" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="108.3333" x="32.2917" y="533.0078">BatchAdder adder()</text><ellipse cx="20.8333" cy="545.8415" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="158.3333" x="32.2917" y="552.7527">Batcher&lt;Element&gt; batcher()</text><polygon fill="#FFFF44" points="20.8333,560.378,25,564.5447,20.8333,568.7113,16.6667,564.5447" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="110.4167" x="32.2917" y="572.4976">void onBatch(Batch)</text><polygon fill="#FFFF44" points="20.8333,604.0344,25,608.2011,20.8333,612.3678,16.6667,608.2011" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="129.1667" x="32.2917" y="616.154">Batcher&lt;Value&gt; copy()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="10.4167" x2="153.125" y1="592.0787" y2="592.0787"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="64.5833" x="156.25" y="595.8883">(filesystem)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="223.9583" x2="366.6667" y1="592.0787" y2="592.0787"/><ellipse cx="20.8333" cy="652.8992" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="326.0417" x="32.2917" y="659.8104">Batcher&lt;Value&gt; withBatchFullPredicate(Predicate&lt;Batch&gt;)</text><ellipse cx="20.8333" cy="672.644" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="236.4583" x="32.2917" y="679.5553">Batcher&lt;Value&gt; withBatchSize(Count size)</text><ellipse cx="20.8333" cy="692.3889" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="290.625" x="32.2917" y="699.3001">Batcher&lt;Value&gt; withConsumer(Consumer&lt;Batch&gt;)</text><ellipse cx="20.8333" cy="712.1338" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="222.9167" x="32.2917" y="719.045">Batcher&lt;Value&gt; withName(String name)</text><ellipse cx="20.8333" cy="731.8787" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="291.6667" x="32.2917" y="738.7899">Batcher&lt;Value&gt; withQueueSize(BaseCount&lt;?&gt; size)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="10.4167" x2="153.125" y1="635.7351" y2="635.7351"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="64.5833" x="156.25" y="639.5447">(functional)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="223.9583" x2="366.6667" y1="635.7351" y2="635.7351"/><ellipse cx="20.8333" cy="775.5351" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="143.75" x="32.2917" y="782.4463">void start(Count workers)</text><ellipse cx="20.8333" cy="795.2799" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="60.4167" x="32.2917" y="802.1912">void stop()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="10.4167" x2="158.8542" y1="758.371" y2="758.371"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="53.125" x="161.9792" y="762.1806">(lifecycle)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="218.2292" x2="366.6667" y1="758.371" y2="758.371"/><!--MD5=[9e1936066d7674d8cad2c3f5fdf1519b]
class KivaKitThread--><rect codeLine="57" fill="#282828" height="657.0679" id="KivaKitThread" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="493.75" x="2141.6667" y="282.8695"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="493.75" x="2141.6667" y="282.8695"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="493.75" x="2141.6667" y="305.9245"/><rect codeLine="57" fill="none" height="657.0679" id="KivaKitThread" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="493.75" x="2141.6667" y="282.8695"/><ellipse cx="2335.4167" cy="298.5636" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M2337.3271,302.9887 Q2336.8998,303.2084 2336.4299,303.3183 Q2335.9599,303.4281 2335.4411,303.4281 Q2333.5978,303.4281 2332.6274,302.2135 Q2331.6569,300.9989 2331.6569,298.704 Q2331.6569,296.403 2332.6274,295.1884 Q2333.5978,293.9738 2335.4411,293.9738 Q2335.9599,293.9738 2336.436,294.0837 Q2336.912,294.1935 2337.3271,294.4132 L2337.3271,296.4152 Q2336.8632,295.988 2336.4268,295.7896 Q2335.9904,295.5912 2335.5265,295.5912 Q2334.5378,295.5912 2334.0342,296.3755 Q2333.5307,297.1598 2333.5307,298.704 Q2333.5307,300.2421 2334.0342,301.0264 Q2334.5378,301.8107 2335.5265,301.8107 Q2335.9904,301.8107 2336.4268,301.6123 Q2336.8632,301.414 2337.3271,300.9867 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="91.6667" x="2358.3333" y="303.2878">KivaKitThread</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="2142.7083" x2="2634.375" y1="314.2578" y2="314.2578"/><ellipse cx="2153.125" cy="349.6277" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="118.75" x="2164.5833" y="356.5389">KivaKitThread(String)</text><ellipse cx="2153.125" cy="369.3726" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="177.0833" x="2164.5833" y="376.2838">KivaKitThread(String, Runnable)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2142.7083" x2="2344.7917" y1="332.4636" y2="332.4636"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="81.25" x="2347.9167" y="336.2732">(constructors)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2432.2917" x2="2634.375" y1="332.4636" y2="332.4636"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2142.7083" x2="2634.375" y1="385.9924" y2="385.9924"/><ellipse cx="2153.125" cy="397.4508" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="226.0417" x="2164.5833" y="404.362">KivaKitThread daemon(boolean daemon)</text><ellipse cx="2153.125" cy="417.1956" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="92.7083" x="2164.5833" y="424.1069">boolean is(State)</text><ellipse cx="2153.125" cy="436.9405" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="184.375" x="2164.5833" y="443.8517">KivaKitThread makeHighPriority()</text><ellipse cx="2153.125" cy="456.6854" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="180.2083" x="2164.5833" y="463.5966">KivaKitThread makeLowPriority()</text><ellipse cx="2153.125" cy="476.4303" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="461.4583" x="2164.5833" y="483.3415">KivaKitThread repeat(Listener, String name, Frequency every, UncheckedVoidCode)</text><ellipse cx="2153.125" cy="496.1751" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="203.125" x="2164.5833" y="503.0863">StateMachine&lt;State&gt; stateMachine()</text><ellipse cx="2153.125" cy="515.92" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="185.4167" x="2164.5833" y="522.8312">void whileLocked(Runnable code)</text><polygon fill="#FFFF44" points="2153.125,530.4565,2157.2917,534.6232,2153.125,538.7899,2148.9583,534.6232" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="84.375" x="2164.5833" y="542.5761">void onExited()</text><polygon fill="#FFFF44" points="2153.125,550.2014,2157.2917,554.3681,2153.125,558.5347,2148.9583,554.3681" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="70.8333" x="2164.5833" y="562.321">void onRan()</text><polygon fill="#FFFF44" points="2153.125,569.9463,2157.2917,574.113,2153.125,578.2796,2148.9583,574.113" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="90.625" x="2164.5833" y="582.0658">void onWaiting()</text><polygon fill="#FFFF44" points="2153.125,589.6912,2157.2917,593.8578,2153.125,598.0245,2148.9583,593.8578" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="87.5" x="2164.5833" y="601.8107">Thread thread()</text><polygon fill="#FFFF44" points="2153.125,609.436,2157.2917,613.6027,2153.125,617.7694,2148.9583,613.6027" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="134.375" x="2164.5833" y="621.5556">State transition(State to)</text><ellipse cx="2153.125" cy="658.3008" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="90.625" x="2164.5833" y="665.212">Time startedAt()</text><ellipse cx="2153.125" cy="678.0457" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="141.6667" x="2164.5833" y="684.9569">T whileLocked(Code&lt;T&gt;)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2142.7083" x2="2353.125" y1="641.1367" y2="641.1367"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="64.5833" x="2356.25" y="644.9463">(functional)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2423.9583" x2="2634.375" y1="641.1367" y2="641.1367"/><ellipse cx="2153.125" cy="721.7021" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="261.4583" x="2164.5833" y="728.6133">KivaKitThread initialDelay(Duration initialDelay)</text><ellipse cx="2153.125" cy="741.4469" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="138.5417" x="2164.5833" y="748.3582">KivaKitThread interrupt()</text><ellipse cx="2153.125" cy="761.1918" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="56.25" x="2164.5833" y="768.103">void join()</text><ellipse cx="2153.125" cy="780.9367" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="314.5833" x="2164.5833" y="787.8479">KivaKitThread run(Listener, String name, Runnable code)</text><ellipse cx="2153.125" cy="800.6816" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="197.9167" x="2164.5833" y="807.5928">KivaKitThread startSynchronously()</text><polygon fill="#FFFF44" points="2153.125,815.2181,2157.2917,819.3848,2153.125,823.5514,2148.9583,819.3848" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="71.875" x="2164.5833" y="827.3376">void onRun()</text><polygon fill="#FFFF44" points="2153.125,834.963,2157.2917,839.1296,2153.125,843.2963,2148.9583,839.1296" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="96.875" x="2164.5833" y="847.0825">void onRunning()</text><polygon fill="#FFFF44" points="2153.125,854.7078,2157.2917,858.8745,2153.125,863.0412,2148.9583,858.8745" style="stroke:#B38D22;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="171.875" x="2164.5833" y="866.8274">void waitForInitialDelayPeriod()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2142.7083" x2="2358.8542" y1="704.538" y2="704.538"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="53.125" x="2361.9792" y="708.3476">(lifecycle)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2418.2292" x2="2634.375" y1="704.538" y2="704.538"/><ellipse cx="2153.125" cy="903.5726" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="270.8333" x="2164.5833" y="910.4838">WakeState waitFor(State, Duration maximumWait)</text><ellipse cx="2153.125" cy="923.3175" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="134.375" x="2164.5833" y="930.2287">WakeState waitFor(State)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2142.7083" x2="2363.0208" y1="886.4085" y2="886.4085"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="44.7917" x="2366.1458" y="890.2181">(thread)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2414.0625" x2="2634.375" y1="886.4085" y2="886.4085"/><!--MD5=[9e90051182cb12ed686a454235a977a2]
class Monitor--><rect codeLine="92" fill="#282828" height="146.7794" id="Monitor" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="101.0417" x="1000.5208" y="538.0778"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="101.0417" x="1000.5208" y="538.0778"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="101.0417" x="1000.5208" y="561.1328"/><rect codeLine="92" fill="none" height="146.7794" id="Monitor" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="101.0417" x="1000.5208" y="538.0778"/><ellipse cx="1020.7292" cy="553.772" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M1022.6396,558.197 Q1022.2123,558.4167 1021.7424,558.5266 Q1021.2724,558.6365 1020.7536,558.6365 Q1018.9103,558.6365 1017.9399,557.4219 Q1016.9694,556.2073 1016.9694,553.9124 Q1016.9694,551.6113 1017.9399,550.3967 Q1018.9103,549.1821 1020.7536,549.1821 Q1021.2724,549.1821 1021.7485,549.292 Q1022.2245,549.4019 1022.6396,549.6216 L1022.6396,551.6235 Q1022.1757,551.1963 1021.7393,550.9979 Q1021.3029,550.7996 1020.839,550.7996 Q1019.8503,550.7996 1019.3467,551.5839 Q1018.8432,552.3682 1018.8432,553.9124 Q1018.8432,555.4504 1019.3467,556.2347 Q1019.8503,557.019 1020.839,557.019 Q1021.3029,557.019 1021.7393,556.8207 Q1022.1757,556.6223 1022.6396,556.1951 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="51.0417" x="1038.6458" y="558.4961">Monitor</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="1001.5625" x2="1100.5208" y1="569.4661" y2="569.4661"/><ellipse cx="1011.9792" cy="604.836" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="63.5417" x="1023.4375" y="611.7472">void done()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1001.5625" x2="1021.3542" y1="587.6719" y2="587.6719"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="53.125" x="1024.4792" y="591.4815">(lifecycle)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1080.7292" x2="1100.5208" y1="587.6719" y2="587.6719"/><ellipse cx="1011.9792" cy="648.4924" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="63.5417" x="1023.4375" y="655.4036">void await()</text><ellipse cx="1011.9792" cy="668.2373" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="68.75" x="1023.4375" y="675.1485">void signal()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1001.5625" x2="1025.5208" y1="631.3283" y2="631.3283"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="44.7917" x="1028.6458" y="635.1379">(thread)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1076.5625" x2="1100.5208" y1="631.3283" y2="631.3283"/><!--MD5=[596fc81caebfd6f7fa404c220419b90b]
class ReentrancyTracker--><rect codeLine="109" fill="#282828" height="155.1127" id="ReentrancyTracker" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="164.5833" x="1808.3333" y="533.9111"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="164.5833" x="1808.3333" y="533.9111"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="164.5833" x="1808.3333" y="556.9661"/><rect codeLine="109" fill="none" height="155.1127" id="ReentrancyTracker" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="164.5833" x="1808.3333" y="533.9111"/><ellipse cx="1826.6667" cy="549.6053" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M1828.5771,554.0304 Q1828.1498,554.2501 1827.6799,554.3599 Q1827.2099,554.4698 1826.6911,554.4698 Q1824.8478,554.4698 1823.8774,553.2552 Q1822.9069,552.0406 1822.9069,549.7457 Q1822.9069,547.4447 1823.8774,546.2301 Q1824.8478,545.0155 1826.6911,545.0155 Q1827.2099,545.0155 1827.686,545.1253 Q1828.162,545.2352 1828.5771,545.4549 L1828.5771,547.4569 Q1828.1132,547.0296 1827.6768,546.8313 Q1827.2404,546.6329 1826.7765,546.6329 Q1825.7878,546.6329 1825.2842,547.4172 Q1824.7807,548.2015 1824.7807,549.7457 Q1824.7807,551.2838 1825.2842,552.0681 Q1825.7878,552.8524 1826.7765,552.8524 Q1827.2404,552.8524 1827.6768,552.654 Q1828.1132,552.4556 1828.5771,552.0284 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="118.75" x="1844.1667" y="554.3294">ReentrancyTracker</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="1809.375" x2="1971.875" y1="565.2995" y2="565.2995"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1809.375" x2="1971.875" y1="573.6328" y2="573.6328"/><ellipse cx="1819.7917" cy="585.0911" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="103.125" x="1831.25" y="592.0024">Reentrancy enter()</text><ellipse cx="1819.7917" cy="628.7476" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="132.2917" x="1831.25" y="635.6588">boolean hasReentered()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1809.375" x2="1864.0625" y1="611.5835" y2="611.5835"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="46.875" x="1867.1875" y="615.3931">(checks)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1917.1875" x2="1971.875" y1="611.5835" y2="611.5835"/><ellipse cx="1819.7917" cy="672.404" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="94.7917" x="1831.25" y="679.3152">Reentrancy exit()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1809.375" x2="1860.9375" y1="655.2399" y2="655.2399"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="53.125" x="1864.0625" y="659.0495">(lifecycle)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1920.3125" x2="1971.875" y1="655.2399" y2="655.2399"/><!--MD5=[d35881bb2bfe4a2514ac8421ce985fae]
class RepeatingThread--><rect codeLine="121" fill="#282828" height="249.6704" id="RepeatingThread" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="462.5" x="1991.6667" y="1016.7236"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="462.5" x="1991.6667" y="1016.7236"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="462.5" x="1991.6667" y="1039.7786"/><rect codeLine="121" fill="none" height="249.6704" id="RepeatingThread" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="462.5" x="1991.6667" y="1016.7236"/><ellipse cx="2160.9375" cy="1032.4178" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M2162.8479,1036.8429 Q2162.4207,1037.0626 2161.9507,1037.1724 Q2161.4807,1037.2823 2160.9619,1037.2823 Q2159.1187,1037.2823 2158.1482,1036.0677 Q2157.1777,1034.8531 2157.1777,1032.5582 Q2157.1777,1030.2572 2158.1482,1029.0426 Q2159.1187,1027.828 2160.9619,1027.828 Q2161.4807,1027.828 2161.9568,1027.9378 Q2162.4329,1028.0477 2162.8479,1028.2674 L2162.8479,1030.2694 Q2162.384,1029.8421 2161.9476,1029.6438 Q2161.5112,1029.4454 2161.0474,1029.4454 Q2160.0586,1029.4454 2159.5551,1030.2297 Q2159.0515,1031.014 2159.0515,1032.5582 Q2159.0515,1034.0963 2159.5551,1034.8806 Q2160.0586,1035.6649 2161.0474,1035.6649 Q2161.5112,1035.6649 2161.9476,1035.4665 Q2162.384,1035.2681 2162.8479,1034.8409 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="109.375" x="2183.8542" y="1037.1419">RepeatingThread</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="1992.7083" x2="2453.125" y1="1048.112" y2="1048.112"/><ellipse cx="2003.125" cy="1083.4819" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="187.5" x="2014.5833" y="1090.3931">RepeatingThread(Listener, String)</text><ellipse cx="2003.125" cy="1103.2267" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="252.0833" x="2014.5833" y="1110.1379">RepeatingThread(Listener, String, Frequency)</text><ellipse cx="2003.125" cy="1122.9716" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="245.8333" x="2014.5833" y="1129.8828">RepeatingThread(Listener, String, Runnable)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1992.7083" x2="2179.1667" y1="1066.3177" y2="1066.3177"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="81.25" x="2182.2917" y="1070.1274">(constructors)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2266.6667" x2="2453.125" y1="1066.3177" y2="1066.3177"/><ellipse cx="2003.125" cy="1166.628" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="332.2917" x="2014.5833" y="1173.5392">RepeatingThread run(Listener, String name, Runnable code)</text><ellipse cx="2003.125" cy="1186.3729" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="430.2083" x="2014.5833" y="1193.2841">RepeatingThread run(Listener, String name, Frequency every, Runnable code)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1992.7083" x2="2193.2292" y1="1149.4639" y2="1149.4639"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="53.125" x="2196.3542" y="1153.2735">(lifecycle)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2252.6042" x2="2453.125" y1="1149.4639" y2="1149.4639"/><ellipse cx="2003.125" cy="1230.0293" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="126.0417" x="2014.5833" y="1236.9405">Frequency frequency()</text><ellipse cx="2003.125" cy="1249.7742" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="220.8333" x="2014.5833" y="1256.6854">RepeatingThread frequency(Frequency)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1992.7083" x2="2203.6458" y1="1212.8652" y2="1212.8652"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="32.2917" x="2206.7708" y="1216.6748">(time)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2242.1875" x2="2453.125" y1="1212.8652" y2="1212.8652"/><!--MD5=[1b8db89c5994f00aef1d202bb7d92f9f]
class Retry--><rect codeLine="136" fill="#282828" height="174.8576" id="Retry" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="633.3333" x="1138.5417" y="524.0153"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="633.3333" x="1138.5417" y="524.0153"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="633.3333" x="1138.5417" y="547.0703"/><rect codeLine="136" fill="none" height="174.8576" id="Retry" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="633.3333" x="1138.5417" y="524.0153"/><ellipse cx="1431.25" cy="539.7095" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M1433.1604,544.1345 Q1432.7332,544.3542 1432.2632,544.4641 Q1431.7932,544.574 1431.2744,544.574 Q1429.4312,544.574 1428.4607,543.3594 Q1427.4902,542.1448 1427.4902,539.8499 Q1427.4902,537.5488 1428.4607,536.3342 Q1429.4312,535.1196 1431.2744,535.1196 Q1431.7932,535.1196 1432.2693,535.2295 Q1432.7454,535.3394 1433.1604,535.5591 L1433.1604,537.561 Q1432.6965,537.1338 1432.2601,536.9354 Q1431.8237,536.7371 1431.3599,536.7371 Q1430.3711,536.7371 1429.8676,537.5214 Q1429.364,538.3057 1429.364,539.8499 Q1429.364,541.3879 1429.8676,542.1722 Q1430.3711,542.9565 1431.3599,542.9565 Q1431.8237,542.9565 1432.2601,542.7582 Q1432.6965,542.5598 1433.1604,542.1326 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="33.3333" x="1454.1667" y="544.4336">Retry</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="1139.5833" x2="1770.8333" y1="555.4036" y2="555.4036"/><ellipse cx="1150" cy="590.7735" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="82.2917" x="1161.4583" y="597.6847">Retry(Listener)</text><ellipse cx="1150" cy="610.5184" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="367.7083" x="1161.4583" y="617.4296">Retry(Listener, int, Duration, Class&lt;? extends Throwable&gt;, String)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1139.5833" x2="1411.4583" y1="573.6094" y2="573.6094"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="81.25" x="1414.5833" y="577.419">(constructors)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1498.9583" x2="1770.8333" y1="573.6094" y2="573.6094"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1139.5833" x2="1770.8333" y1="627.1383" y2="627.1383"/><ellipse cx="1150" cy="638.5966" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="601.0417" x="1161.4583" y="645.5078">UncheckedCode&lt;T&gt; retry(Listener, UncheckedCode&lt;T&gt;, int times, Duration delay, Runnable... beforeRetry)</text><ellipse cx="1150" cy="682.253" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="373.9583" x="1161.4583" y="689.1642">T run(UncheckedCode&lt;T&gt; runnable, Runnable... stepsBeforeRetry)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1139.5833" x2="1425.5208" y1="665.0889" y2="665.0889"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="53.125" x="1428.6458" y="668.8985">(lifecycle)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="1484.8958" x2="1770.8333" y1="665.0889" y2="665.0889"/><!--MD5=[26cf973182a7f4628b108faa9f11e46e]
class Batcher.State--><rect codeLine="147" fill="#282828" height="127.0345" id="Batcher.State" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="120.8333" x="128.125" y="1078.182"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="120.8333" x="128.125" y="1078.182"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="120.8333" x="128.125" y="1101.237"/><rect codeLine="147" fill="none" height="127.0345" id="Batcher.State" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="120.8333" x="128.125" y="1078.182"/><ellipse cx="142.7083" cy="1093.8761" fill="#CF6300" rx="10.4167" ry="10.4167" style="stroke:#EF8300;stroke-width:1.0416666666666667;"/><path d="M145.7642,1098.5636 L140.0879,1098.5636 L140.0879,1089.4511 L145.7642,1089.4511 L145.7642,1091.038 L141.8884,1091.038 L141.8884,1093.0033 L145.3979,1093.0033 L145.3979,1094.5903 L141.8884,1094.5903 L141.8884,1096.9767 L145.7642,1096.9767 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="83.3333" x="159.375" y="1098.6003">Batcher.State</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="129.1667" x2="247.9167" y1="1109.5703" y2="1109.5703"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="37.5" x="137.5" y="1127.9399">READY</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="52.0833" x="137.5" y="1147.6847">RUNNING</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="50" x="137.5" y="1167.4296">STOPPED</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="55.2083" x="137.5" y="1187.1745">STOPPING</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="129.1667" x2="247.9167" y1="1196.8831" y2="1196.8831"/><!--MD5=[06cfcad96a8c1a5753e8f9fed18ba484]
class KivaKitThread.State--><rect codeLine="155" fill="#282828" height="225.7589" id="KivaKitThread.State" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="164.5833" x="285.4167" y="1028.7028"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="164.5833" x="285.4167" y="1028.7028"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="164.5833" x="285.4167" y="1051.7578"/><rect codeLine="155" fill="none" height="225.7589" id="KivaKitThread.State" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="164.5833" x="285.4167" y="1028.7028"/><ellipse cx="300" cy="1044.397" fill="#CF6300" rx="10.4167" ry="10.4167" style="stroke:#EF8300;stroke-width:1.0416666666666667;"/><path d="M303.0558,1049.0845 L297.3796,1049.0845 L297.3796,1039.9719 L303.0558,1039.9719 L303.0558,1041.5588 L299.1801,1041.5588 L299.1801,1043.5242 L302.6896,1043.5242 L302.6896,1045.1111 L299.1801,1045.1111 L299.1801,1047.4976 L303.0558,1047.4976 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="127.0833" x="316.6667" y="1049.1211">KivaKitThread.State</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="286.4583" x2="448.9583" y1="1060.0911" y2="1060.0911"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="52.0833" x="294.7917" y="1078.4607">CREATED</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="38.5417" x="294.7917" y="1098.2056">EXITED</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="43.75" x="294.7917" y="1117.9504">PAUSED</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="107.2917" x="294.7917" y="1137.6953">PAUSE_REQUESTED</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="23.9583" x="294.7917" y="1157.4402">RAN</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="115.625" x="294.7917" y="1177.1851">RESUME_REQUESTED</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="52.0833" x="294.7917" y="1196.9299">RUNNING</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="101.0417" x="294.7917" y="1216.6748">STOP_REQUESTED</text><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="47.9167" x="294.7917" y="1236.4197">WAITING</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="286.4583" x2="448.9583" y1="1246.1283" y2="1246.1283"/><!--MD5=[3626c233e602113c8cf5977cfac9c02f]
class StateMachine--><rect codeLine="169" fill="#282828" height="578.0884" id="StateMachine" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="559.375" x="404.6875" y="322.4528"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="559.375" x="404.6875" y="322.4528"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="559.375" x="404.6875" y="345.5078"/><rect codeLine="169" fill="none" height="578.0884" id="StateMachine" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="559.375" x="404.6875" y="322.4528"/><ellipse cx="613.0208" cy="338.147" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M614.9312,342.572 Q614.504,342.7917 614.034,342.9016 Q613.564,343.0115 613.0452,343.0115 Q611.202,343.0115 610.2315,341.7969 Q609.2611,340.5823 609.2611,338.2874 Q609.2611,335.9863 610.2315,334.7717 Q611.202,333.5571 613.0452,333.5571 Q613.564,333.5571 614.0401,333.667 Q614.5162,333.7769 614.9312,333.9966 L614.9312,335.9985 Q614.4674,335.5713 614.031,335.3729 Q613.5946,335.1746 613.1307,335.1746 Q612.1419,335.1746 611.6384,335.9589 Q611.1348,336.7432 611.1348,338.2874 Q611.1348,339.8254 611.6384,340.6097 Q612.1419,341.394 613.1307,341.394 Q613.5946,341.394 614.031,341.1957 Q614.4674,340.9973 614.9312,340.5701 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="85.4167" x="635.9375" y="342.8711">StateMachine</text><rect fill="#333333" height="23.055" style="stroke:#A0A0A0;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" width="40.625" x="926.5625" y="319.3278"/><text fill="#A0A0A0" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="32.2917" x="930.7292" y="335.5794">State</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="405.7292" x2="963.0208" y1="353.8411" y2="353.8411"/><ellipse cx="416.1458" cy="389.211" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="108.3333" x="427.6042" y="396.1222">StateMachine(State)</text><ellipse cx="416.1458" cy="408.9559" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="218.75" x="427.6042" y="415.8671">StateMachine(State, Consumer&lt;State&gt;)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="405.7292" x2="640.625" y1="372.0469" y2="372.0469"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="81.25" x="643.75" y="375.8565">(constructors)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="728.125" x2="963.0208" y1="372.0469" y2="372.0469"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="405.7292" x2="963.0208" y1="425.5758" y2="425.5758"/><ellipse cx="416.1458" cy="437.0341" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="48.9583" x="427.6042" y="443.9453">State at()</text><ellipse cx="416.1458" cy="456.779" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="92.7083" x="427.6042" y="463.6902">boolean is(State)</text><ellipse cx="416.1458" cy="476.5238" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="162.5" x="427.6042" y="483.4351">boolean is(Predicate&lt;State&gt;)</text><ellipse cx="416.1458" cy="496.2687" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="247.9167" x="427.6042" y="503.1799">Optional&lt;State&gt; toggle(State one, State two)</text><ellipse cx="416.1458" cy="516.0136" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="527.0833" x="427.6042" y="522.9248">boolean transition(State from, State to, State waitFor, Duration maximumWait, Runnable before)</text><ellipse cx="416.1458" cy="535.7585" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="390.625" x="427.6042" y="542.6697">boolean transition(State from, State to, State waitFor, Runnable before)</text><ellipse cx="416.1458" cy="555.5033" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="215.625" x="427.6042" y="562.4146">boolean transition(State from, State to)</text><ellipse cx="416.1458" cy="575.2482" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="134.375" x="427.6042" y="582.1594">State transitionTo(State)</text><ellipse cx="416.1458" cy="594.9931" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="185.4167" x="427.6042" y="601.9043">void whileLocked(Runnable code)</text><ellipse cx="416.1458" cy="638.6495" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="182.2917" x="427.6042" y="645.5607">boolean isNot(Predicate&lt;State&gt;)</text><ellipse cx="416.1458" cy="658.3944" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="112.5" x="427.6042" y="665.3056">boolean isNot(State)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="405.7292" x2="657.8125" y1="621.4854" y2="621.4854"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="46.875" x="660.9375" y="625.295">(checks)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="710.9375" x2="963.0208" y1="621.4854" y2="621.4854"/><ellipse cx="416.1458" cy="702.0508" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="141.6667" x="427.6042" y="708.962">T whileLocked(Code&lt;T&gt;)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="405.7292" x2="648.9583" y1="684.8867" y2="684.8867"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="64.5833" x="652.0833" y="688.6963">(functional)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="719.7917" x2="963.0208" y1="684.8867" y2="684.8867"/><ellipse cx="416.1458" cy="745.7072" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="201.0417" x="427.6042" y="752.6184">void transitionAndWaitForNot(State)</text><ellipse cx="416.1458" cy="765.4521" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="340.625" x="427.6042" y="772.3633">WakeState waitFor(Predicate&lt;State&gt;, Duration maximumWait)</text><ellipse cx="416.1458" cy="785.1969" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="270.8333" x="427.6042" y="792.1082">WakeState waitFor(State, Duration maximumWait)</text><ellipse cx="416.1458" cy="804.9418" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="204.1667" x="427.6042" y="811.853">WakeState waitFor(Predicate&lt;State&gt;)</text><ellipse cx="416.1458" cy="824.6867" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="479.1667" x="427.6042" y="831.5979">WakeState waitFor(Predicate&lt;State&gt;, Duration maximumWait, Runnable beforeWaiting)</text><ellipse cx="416.1458" cy="844.4316" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="134.375" x="427.6042" y="851.3428">WakeState waitFor(State)</text><ellipse cx="416.1458" cy="864.1764" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="154.1667" x="427.6042" y="871.0876">WakeState waitForNot(State)</text><ellipse cx="416.1458" cy="883.9213" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="290.625" x="427.6042" y="890.8325">WakeState waitForNot(State, Duration maximumWait)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="405.7292" x2="658.8542" y1="728.5431" y2="728.5431"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="44.7917" x="661.9792" y="732.3527">(thread)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="709.8958" x2="963.0208" y1="728.5431" y2="728.5431"/><!--MD5=[e5564a1acc4df3f70dcbc94a812f1ed1]
class StateWatcher--><rect codeLine="200" fill="#282828" height="277.7486" id="StateWatcher" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="400" x="486.4583" y="1002.6611"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="400" x="486.4583" y="1002.6611"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="400" x="486.4583" y="1025.7161"/><rect codeLine="200" fill="none" height="277.7486" id="StateWatcher" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="400" x="486.4583" y="1002.6611"/><ellipse cx="616.1458" cy="1018.3553" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M618.0562,1022.7804 Q617.629,1023.0001 617.159,1023.1099 Q616.689,1023.2198 616.1702,1023.2198 Q614.327,1023.2198 613.3565,1022.0052 Q612.3861,1020.7906 612.3861,1018.4957 Q612.3861,1016.1947 613.3565,1014.9801 Q614.327,1013.7655 616.1702,1013.7655 Q616.689,1013.7655 617.1651,1013.8753 Q617.6412,1013.9852 618.0562,1014.2049 L618.0562,1016.2069 Q617.5924,1015.7796 617.156,1015.5813 Q616.7196,1015.3829 616.2557,1015.3829 Q615.2669,1015.3829 614.7634,1016.1672 Q614.2598,1016.9515 614.2598,1018.4957 Q614.2598,1020.0338 614.7634,1020.8181 Q615.2669,1021.6024 616.2557,1021.6024 Q616.7196,1021.6024 617.156,1021.404 Q617.5924,1021.2056 618.0562,1020.7784 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="83.3333" x="639.0625" y="1023.0794">StateWatcher</text><rect fill="#333333" height="23.055" style="stroke:#A0A0A0;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" width="40.625" x="848.9583" y="999.5361"/><text fill="#A0A0A0" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="32.2917" x="853.125" y="1015.7878">State</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="487.5" x2="885.4167" y1="1034.0495" y2="1034.0495"/><ellipse cx="497.9167" cy="1069.4194" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="107.2917" x="509.375" y="1076.3306">StateWatcher(State)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="487.5" x2="642.7083" y1="1052.2552" y2="1052.2552"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="81.25" x="645.8333" y="1056.0649">(constructors)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="730.2083" x2="885.4167" y1="1052.2552" y2="1052.2552"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="487.5" x2="885.4167" y1="1086.0392" y2="1086.0392"/><ellipse cx="497.9167" cy="1097.4976" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="185.4167" x="509.375" y="1104.4088">void whileLocked(Runnable code)</text><ellipse cx="497.9167" cy="1141.154" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="141.6667" x="509.375" y="1148.0652">T whileLocked(Code&lt;T&gt;)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="487.5" x2="651.0417" y1="1123.9899" y2="1123.9899"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="64.5833" x="654.1667" y="1127.7995">(functional)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="721.875" x2="885.4167" y1="1123.9899" y2="1123.9899"/><ellipse cx="497.9167" cy="1184.8104" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="95.8333" x="509.375" y="1191.7216">void signal(State)</text><ellipse cx="497.9167" cy="1204.5553" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="342.7083" x="509.375" y="1211.4665">WakeState waitFor(State desired, Duration maximumWaitTime)</text><ellipse cx="497.9167" cy="1224.3001" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="204.1667" x="509.375" y="1231.2113">WakeState waitFor(Predicate&lt;State&gt;)</text><ellipse cx="497.9167" cy="1244.045" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="179.1667" x="509.375" y="1250.9562">WakeState waitFor(State desired)</text><ellipse cx="497.9167" cy="1263.7899" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="367.7083" x="509.375" y="1270.7011">WakeState waitFor(Predicate&lt;State&gt;, Duration maximumWaitTime)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="487.5" x2="660.9375" y1="1167.6463" y2="1167.6463"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="44.7917" x="664.0625" y="1171.4559">(thread)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="711.9792" x2="885.4167" y1="1167.6463" y2="1167.6463"/><!--MD5=[983e112365df98522bfe1365dfc372aa]
class ThreadLocalMap--><rect codeLine="217" fill="#282828" height="48.055" id="ThreadLocalMap" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="219.7917" x="2672.3958" y="587.557"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="219.7917" x="2672.3958" y="587.557"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="219.7917" x="2672.3958" y="610.612"/><rect codeLine="217" fill="none" height="48.055" id="ThreadLocalMap" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="219.7917" x="2672.3958" y="587.557"/><ellipse cx="2686.9792" cy="603.2511" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M2688.8896,607.6762 Q2688.4623,607.8959 2687.9924,608.0058 Q2687.5224,608.1156 2687.0036,608.1156 Q2685.1603,608.1156 2684.1899,606.901 Q2683.2194,605.6864 2683.2194,603.3915 Q2683.2194,601.0905 2684.1899,599.8759 Q2685.1603,598.6613 2687.0036,598.6613 Q2687.5224,598.6613 2687.9985,598.7712 Q2688.4745,598.881 2688.8896,599.1007 L2688.8896,601.1027 Q2688.4257,600.6755 2687.9893,600.4771 Q2687.5529,600.2787 2687.089,600.2787 Q2686.1003,600.2787 2685.5967,601.063 Q2685.0932,601.8473 2685.0932,603.3915 Q2685.0932,604.9296 2685.5967,605.7139 Q2686.1003,606.4982 2687.089,606.4982 Q2687.5529,606.4982 2687.9893,606.2998 Q2688.4257,606.1015 2688.8896,605.6742 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="105.2083" x="2703.6458" y="607.9753">ThreadLocalMap</text><rect fill="#333333" height="23.055" style="stroke:#A0A0A0;stroke-width:1.0416666666666667;stroke-dasharray:2.0,2.0;" width="75" x="2820.3125" y="584.432"/><text fill="#A0A0A0" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="66.6667" x="2824.4792" y="600.6836">Key, Value</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2673.4375" x2="2891.1458" y1="618.9453" y2="618.9453"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="2673.4375" x2="2891.1458" y1="627.2786" y2="627.2786"/><!--MD5=[04775f07cbc9f05df800b308644f4603]
class Threads--><rect codeLine="221" fill="#282828" height="214.3473" id="Threads" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="346.875" x="15.1042" y="1343.2861"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="346.875" x="15.1042" y="1343.2861"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="346.875" x="15.1042" y="1366.3411"/><rect codeLine="221" fill="none" height="214.3473" id="Threads" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="346.875" x="15.1042" y="1343.2861"/><ellipse cx="155.2083" cy="1358.9803" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M157.1187,1363.4054 Q156.6915,1363.6251 156.2215,1363.7349 Q155.7515,1363.8448 155.2327,1363.8448 Q153.3895,1363.8448 152.419,1362.6302 Q151.4486,1361.4156 151.4486,1359.1207 Q151.4486,1356.8197 152.419,1355.6051 Q153.3895,1354.3905 155.2327,1354.3905 Q155.7515,1354.3905 156.2276,1354.5003 Q156.7037,1354.6102 157.1187,1354.8299 L157.1187,1356.8319 Q156.6549,1356.4046 156.2185,1356.2063 Q155.7821,1356.0079 155.3182,1356.0079 Q154.3294,1356.0079 153.8259,1356.7922 Q153.3223,1357.5765 153.3223,1359.1207 Q153.3223,1360.6588 153.8259,1361.4431 Q154.3294,1362.2274 155.3182,1362.2274 Q155.7821,1362.2274 156.2185,1362.029 Q156.6549,1361.8306 157.1187,1361.4034 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="52.0833" x="178.125" y="1363.7044">Threads</text><line style="stroke:#5E5E5E;stroke-width:1.5625;" x1="16.1458" x2="360.9375" y1="1374.6745" y2="1374.6745"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="16.1458" x2="360.9375" y1="1383.0078" y2="1383.0078"/><ellipse cx="26.5625" cy="1394.4661" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="185.4167" x="38.0208" y="1401.3774">ThreadGroup rootThreadGroup()</text><ellipse cx="26.5625" cy="1438.1226" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="184.375" x="38.0208" y="1445.0338">ObjectList&lt;Thread&gt; allThreads()</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="16.1458" x2="154.1667" y1="1420.9585" y2="1420.9585"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="62.5" x="157.2917" y="1424.7681">(collection)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="222.9167" x2="360.9375" y1="1420.9585" y2="1420.9585"/><ellipse cx="26.5625" cy="1481.779" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="220.8333" x="38.0208" y="1488.6902">void awaitTermination(ExecutorService)</text><ellipse cx="26.5625" cy="1501.5238" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="301.0417" x="38.0208" y="1508.4351">void shutdownAndAwaitTermination(ExecutorService)</text><ellipse cx="26.5625" cy="1521.2687" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="228.125" x="38.0208" y="1528.1799">ExecutorService threadPool(String name)</text><ellipse cx="26.5625" cy="1541.0136" fill="#84BE84" rx="3.125" ry="3.125" style="stroke:#038048;stroke-width:1.0416666666666667;"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="314.5833" x="38.0208" y="1547.9248">ExecutorService threadPool(String name, Count threads)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="16.1458" x2="163.0208" y1="1464.6149" y2="1464.6149"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="11.4583" lengthAdjust="spacing" textLength="44.7917" x="166.1458" y="1468.4245">(thread)</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="214.0625" x2="360.9375" y1="1464.6149" y2="1464.6149"/><!--MD5=[35f3d1e74c3824ed422c7eb49474339b]
class StateWatcher.Waiter--><rect codeLine="234" fill="#282828" height="48.055" id="StateWatcher.Waiter" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="164.5833" x="398.9583" y="1426.6195"/><rect fill="#1B1B1A" height="31.3883" rx="8.3333" ry="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="164.5833" x="398.9583" y="1426.6195"/><rect fill="#1B1B1A" height="8.3333" style="stroke:#1B1B1A;stroke-width:1.0416666666666667;" width="164.5833" x="398.9583" y="1449.6745"/><rect codeLine="234" fill="none" height="48.055" id="StateWatcher.Waiter" rx="8.3333" ry="8.3333" style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" width="164.5833" x="398.9583" y="1426.6195"/><ellipse cx="413.5417" cy="1442.3136" fill="#0066CF" rx="10.4167" ry="10.4167" style="stroke:#0086EF;stroke-width:1.0416666666666667;"/><path d="M415.4521,1446.7387 Q415.0248,1446.9584 414.5549,1447.0683 Q414.0849,1447.1781 413.5661,1447.1781 Q411.7228,1447.1781 410.7524,1445.9635 Q409.7819,1444.7489 409.7819,1442.454 Q409.7819,1440.153 410.7524,1438.9384 Q411.7228,1437.7238 413.5661,1437.7238 Q414.0849,1437.7238 414.561,1437.8337 Q415.037,1437.9435 415.4521,1438.1632 L415.4521,1440.1652 Q414.9882,1439.738 414.5518,1439.5396 Q414.1154,1439.3412 413.6515,1439.3412 Q412.6628,1439.3412 412.1592,1440.1255 Q411.6557,1440.9098 411.6557,1442.454 Q411.6557,1443.9921 412.1592,1444.7764 Q412.6628,1445.5607 413.6515,1445.5607 Q414.1154,1445.5607 414.5518,1445.3623 Q414.9882,1445.164 415.4521,1444.7367 Z " fill="#000000"/><text fill="#D8BC00" font-family="Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="127.0833" x="430.2083" y="1447.0378">StateWatcher.Waiter</text><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="400" x2="562.5" y1="1458.0078" y2="1458.0078"/><line style="stroke:#5E5E5E;stroke-width:1.0416666666666667;" x1="400" x2="562.5" y1="1466.3411" y2="1466.3411"/><!--MD5=[10b39b1464d0243bea69957d3fcebbfc]
reverse link ArrayList to Batcher.Batch--><path codeLine="18" d="M3188.1354,201.8486 C3187.2708,296.3174 3185.25,515.8695 3184.5833,587.4528 " fill="none" id="ArrayList-backto-Batcher.Batch" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="3180.8438,201.7028,3188.3333,180.932,3195.4271,201.8382,3180.8438,201.7028" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[ed11c02aed1d2296bfc20f33252555a2]
reverse link Addable to Batcher.BatchAdder--><path codeLine="23" d="M2952.2083,198.682 C2967.3021,222.307 2984.9688,253.1507 2995.8333,282.8695 C3035.9271,392.5257 3049.7188,533.109 3053.75,587.5361 " fill="none" id="Addable-backto-Batcher.BatchAdder" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="2945.9896,202.4945,2940.5833,181.0986,2958.1563,194.4632,2945.9896,202.4945" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[c26b8a67a8e8cd3b466410980a1c6b02]
reverse link Sequence to Batcher.BatchAdder--><path codeLine="24" d="M3055.2083,201.8486 C3055.2083,296.3174 3055.2083,515.8695 3055.2083,587.4528 " fill="none" id="Sequence-backto-Batcher.BatchAdder" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="3047.9167,201.7653,3055.2083,180.932,3062.5,201.7653,3047.9167,201.7653" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[c3c21a9c5d6602483b53cab15af90af1]
reverse link BaseRepeater to Batcher--><path codeLine="29" d="M986.6875,164.5465 C826.6458,178.7757 482.8958,216.307 386.4583,282.8695 C339.5625,315.234 301.875,362.682 272.5,411.4632 " fill="none" id="BaseRepeater-backto-Batcher" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="986.1667,157.2757,1007.5521,162.734,987.4375,171.807,986.1667,157.2757" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[74ec75e02bf4ba8049f61d7e72efcd2a]
reverse link BaseRepeater to KivaKitThread--><path codeLine="52" d="M1152.8125,159.7549 C1371.1667,165.9528 1956.1354,190.9215 2122.9167,282.8695 C2129.1667,286.3174 2135.3333,289.9736 2141.3958,293.8278 " fill="none" id="BaseRepeater-backto-KivaKitThread" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="1152.5729,167.0465,1131.9479,159.1924,1152.9688,152.4632,1152.5729,167.0465" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[3a0441f8f910b6e780ed69b875a2eb0a]
reverse link Startable to KivaKitThread--><path codeLine="53" d="M2563.1979,200.2549 C2553.9375,222.0153 2541.7292,250.6924 2528.0625,282.7965 " fill="none" id="Startable-backto-KivaKitThread" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="2556.5625,197.2445,2571.4271,180.932,2569.9792,202.9632,2556.5625,197.2445" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[b373189d9ffc76b58130634d7cf0853e]
reverse link Runnable to KivaKitThread--><path codeLine="54" d="M2317.0313,201.6195 C2320.8021,223.2028 2325.7292,251.359 2331.2292,282.7965 " fill="none" id="Runnable-backto-KivaKitThread" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="2309.8125,202.7132,2313.4063,180.932,2324.1771,200.2028,2309.8125,202.7132" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[292d81438b4b3f1d4c5a49eaebf45f14]
reverse link Stoppable to KivaKitThread--><path codeLine="55" d="M2440.2917,201.6195 C2437.5625,223.2028 2434,251.359 2430.0208,282.7965 " fill="none" id="Stoppable-backto-KivaKitThread" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="2433.0625,200.6924,2442.9167,180.932,2447.5313,202.5257,2433.0625,200.6924" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[875a0c0016b462cb867c4675b82a980a]
reverse link Named to KivaKitThread--><path codeLine="56" d="M2201.4479,199.9111 C2211.3854,221.7132 2224.5104,250.5257 2239.2188,282.7965 " fill="none" id="Named-backto-KivaKitThread" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="2194.8021,202.9215,2192.8021,180.932,2208.0729,196.8695,2194.8021,202.9215" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[b9e960d8464dea6699e749cafaab1285]
reverse link KivaKitThread to RepeatingThread--><path codeLine="119" d="M2279.4479,960.4215 C2273.3229,979.9528 2267.4167,998.7965 2261.875,1016.4632 " fill="none" id="KivaKitThread-backto-RepeatingThread" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="2272.5729,957.9632,2285.7708,940.2653,2286.4896,962.3278,2272.5729,957.9632" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[0ac27749cb5800dc4a21199fcbd04e22]
reverse link Pausable to RepeatingThread--><path codeLine="120" d="M2062.5625,656.4736 C2071.0417,720.234 2090.25,841.609 2123.9583,940.1611 C2132.625,965.5049 2143.8125,991.7549 2155.5313,1016.5778 " fill="none" id="Pausable-backto-RepeatingThread" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="2055.3229,657.3174,2059.9271,635.734,2069.7917,655.4736,2055.3229,657.3174" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[e154e770a23b48a9b83c238bf988dc48]
reverse link BaseRepeater to Retry--><path codeLine="135" d="M1103.1563,197.0465 C1164.7813,269.4215 1297.7917,425.6195 1381.5313,523.9528 " fill="none" id="BaseRepeater-backto-Retry" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="1097.3854,201.5257,1089.4375,180.932,1108.4896,192.0674,1097.3854,201.5257" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[fdda41a12b25b3c7c5e655337c7fed7e]
reverse link BaseRepeater to StateMachine--><path codeLine="168" d="M1036.4167,197.057 C1010.5104,227.484 971.9792,272.734 929.8021,322.2549 " fill="none" id="BaseRepeater-backto-StateMachine" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="1031.0938,192.0674,1050.1458,180.932,1042.1979,201.5257,1031.0938,192.0674" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[6066beeba25b2247b85914e487bc05f5]
reverse link AbstractMap to ThreadLocalMap--><path codeLine="216" d="M2782.2917,201.8486 C2782.2917,296.3174 2782.2917,515.8695 2782.2917,587.4528 " fill="none" id="AbstractMap-backto-ThreadLocalMap" style="stroke:#545454;stroke-width:1.5625;"/><polygon fill="none" points="2775,201.7653,2782.2917,180.932,2789.5833,201.7653,2775,201.7653" style="stroke:#545454;stroke-width:1.5625;"/><!--MD5=[af51d3c28f2519cb97d19cdff978d011]
link Batcher to Monitor--><!--MD5=[6df6c99409c77733fc88e001fdf79a73]
link Monitor to ReentrancyTracker--><!--MD5=[b7b81fbbdfaa840022f069dc9d67215a]
link Batcher to Batcher.State--><!--MD5=[de413b59d225c2efc710873549a4ecda]
link Batcher.State to KivaKitThread.State--><!--MD5=[6b16217b6764f56bc93135fa0cb12a53]
link KivaKitThread.State to StateWatcher--><!--MD5=[1fc915d35396fd9dc4788d5ce3d364a2]
link Batcher.State to Threads--><!--MD5=[d1d68745644ac278e12c50aeee326912]
link Threads to StateWatcher.Waiter--><!--MD5=[03b5a88e8f657cecb64085293cf68785]
@startuml

    !include lexakai.theme
    
    title "com.telenav.kivakit.core.thread"
    
    abstract AbstractMap
    abstract BaseRepeater
    
    interface Startable
    interface Named
    interface Addable
    interface Runnable
    interface Stoppable
    interface Pausable
    interface Sequence
    
    ArrayList <|- - Batcher.Batch
    class Batcher.Batch
    {
    }
    
    Addable <|- - Batcher.BatchAdder
    Sequence <|- - Batcher.BatchAdder
    class Batcher.BatchAdder
    {
    }
    
    BaseRepeater <|- - Batcher
    class Batcher<Value>
    {
        - -(constructors)- -
        #Batcher()
        #Batcher(Batcher<Value>)
        - -
        +BatchAdder adder()
        +Batcher<Element> batcher()
        #void onBatch(Batch)
        - -(filesystem)- -
        #Batcher<Value> copy()
        - -(functional)- -
        +Batcher<Value> withBatchFullPredicate(Predicate<Batch>)
        +Batcher<Value> withBatchSize(Count size)
        +Batcher<Value> withConsumer(Consumer<Batch>)
        +Batcher<Value> withName(String name)
        +Batcher<Value> withQueueSize(BaseCount<?> size)
        - -(lifecycle)- -
        +void start(Count workers)
        +void stop()
    }
    
    BaseRepeater <|- - KivaKitThread
    Startable <|- - KivaKitThread
    Runnable <|- - KivaKitThread
    Stoppable <|- - KivaKitThread
    Named <|- - KivaKitThread
    class KivaKitThread
    {
        - -(constructors)- -
        +KivaKitThread(String)
        +KivaKitThread(String, Runnable)
        - -
        +KivaKitThread daemon(boolean daemon)
        +boolean is(State)
        +KivaKitThread makeHighPriority()
        +KivaKitThread makeLowPriority()
        +KivaKitThread repeat(Listener, String name, Frequency every, UncheckedVoidCode)
        +StateMachine<State> stateMachine()
        +void whileLocked(Runnable code)
        #void onExited()
        #void onRan()
        #void onWaiting()
        #Thread thread()
        #State transition(State to)
        - -(functional)- -
        +Time startedAt()
        +T whileLocked(Code<T>)
        - -(lifecycle)- -
        +KivaKitThread initialDelay(Duration initialDelay)
        +KivaKitThread interrupt()
        +void join()
        +KivaKitThread run(Listener, String name, Runnable code)
        +KivaKitThread startSynchronously()
        #void onRun()
        #void onRunning()
        #void waitForInitialDelayPeriod()
        - -(thread)- -
        +WakeState waitFor(State, Duration maximumWait)
        +WakeState waitFor(State)
    }
    
    class Monitor
    {
        - -(lifecycle)- -
        +void done()
        - -(thread)- -
        +void await()
        +void signal()
    }
    
    enum ReentrancyTracker.Reentrancy
    {
        ENTERED
        EXITED
        EXITED_REENTRY
        REENTERED
    }
    
    class ReentrancyTracker
    {
        - -
        +Reentrancy enter()
        - -(checks)- -
        +boolean hasReentered()
        - -(lifecycle)- -
        +Reentrancy exit()
    }
    
    KivaKitThread <|- - RepeatingThread
    Pausable <|- - RepeatingThread
    class RepeatingThread
    {
        - -(constructors)- -
        +RepeatingThread(Listener, String)
        +RepeatingThread(Listener, String, Frequency)
        +RepeatingThread(Listener, String, Runnable)
        - -(lifecycle)- -
        +RepeatingThread run(Listener, String name, Runnable code)
        +RepeatingThread run(Listener, String name, Frequency every, Runnable code)
        - -(time)- -
        +Frequency frequency()
        +RepeatingThread frequency(Frequency)
    }
    
    BaseRepeater <|- - Retry
    class Retry
    {
        - -(constructors)- -
        +Retry(Listener)
        +Retry(Listener, int, Duration, Class<? extends Throwable>, String)
        - -
        +UncheckedCode<T> retry(Listener, UncheckedCode<T>, int times, Duration delay, Runnable... beforeRetry)
        - -(lifecycle)- -
        +T run(UncheckedCode<T> runnable, Runnable... stepsBeforeRetry)
    }
    
    enum Batcher.State
    {
        READY
        RUNNING
        STOPPED
        STOPPING
    }
    
    enum KivaKitThread.State
    {
        CREATED
        EXITED
        PAUSED
        PAUSE_REQUESTED
        RAN
        RESUME_REQUESTED
        RUNNING
        STOP_REQUESTED
        WAITING
    }
    
    BaseRepeater <|- - StateMachine
    class StateMachine<State>
    {
        - -(constructors)- -
        +StateMachine(State)
        +StateMachine(State, Consumer<State>)
        - -
        +State at()
        +boolean is(State)
        +boolean is(Predicate<State>)
        +Optional<State> toggle(State one, State two)
        +boolean transition(State from, State to, State waitFor, Duration maximumWait, Runnable before)
        +boolean transition(State from, State to, State waitFor, Runnable before)
        +boolean transition(State from, State to)
        +State transitionTo(State)
        +void whileLocked(Runnable code)
        - -(checks)- -
        +boolean isNot(Predicate<State>)
        +boolean isNot(State)
        - -(functional)- -
        +T whileLocked(Code<T>)
        - -(thread)- -
        +void transitionAndWaitForNot(State)
        +WakeState waitFor(Predicate<State>, Duration maximumWait)
        +WakeState waitFor(State, Duration maximumWait)
        +WakeState waitFor(Predicate<State>)
        +WakeState waitFor(Predicate<State>, Duration maximumWait, Runnable beforeWaiting)
        +WakeState waitFor(State)
        +WakeState waitForNot(State)
        +WakeState waitForNot(State, Duration maximumWait)
    }
    
    class StateWatcher<State>
    {
        - -(constructors)- -
        +StateWatcher(State)
        - -
        +void whileLocked(Runnable code)
        - -(functional)- -
        +T whileLocked(Code<T>)
        - -(thread)- -
        +void signal(State)
        +WakeState waitFor(State desired, Duration maximumWaitTime)
        +WakeState waitFor(Predicate<State>)
        +WakeState waitFor(State desired)
        +WakeState waitFor(Predicate<State>, Duration maximumWaitTime)
    }
    
    AbstractMap <|- - ThreadLocalMap
    class ThreadLocalMap<Key, Value>
    {
    }
    
    class Threads
    {
        - -
        +ThreadGroup rootThreadGroup()
        - -(collection)- -
        +ObjectList<Thread> allThreads()
        - -(thread)- -
        +void awaitTermination(ExecutorService)
        +void shutdownAndAwaitTermination(ExecutorService)
        +ExecutorService threadPool(String name)
        +ExecutorService threadPool(String name, Count threads)
    }
    
    class StateWatcher.Waiter
    {
    }
    
@enduml

@startuml









skinparam backgroundColor #333333






skinparam  {
    defaultFontName   "Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif"
    defaultFontSize   12
    defaultTextAlignment left
    shadowing false
    RoundCorner 10
    TitleFontSize 18
}

skinparam defaultFontName       "Open Sans,Avenir,Nunito,Arial,Helvetica,SansSerif"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             false
skinparam roundcorner           16
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               3
skinparam ArrowColor            #545454
skinparam stereotype {
    CBackgroundColor #0066cf
    CBorderColor #0086ef
    ABackgroundColor #C8Ac00
    ABorderColor #D8Bc00
    IBackgroundColor #008400
    IBorderColor #239c23
    EBackgroundColor #cf6300
    EBorderColor #ef8300
    NBackgroundColor #3380b9
    NBorderColor #004d86
}
skinparam title {
	FontColor	                 #c0c0c0
 	BorderColor                  #545454
	FontSize	    	         20
	BorderRoundCorner            16
	BorderThickness 	         1
	BackgroundColor              #48494b
}


skinparam legend {
	BackgroundColor #303030
	BorderColor #404040
	FontColor #a0a0a0
}

	skinparam swimlane {
	BorderColor #5e5e5e
	BorderThickness 2
	TitleBackgroundColor  #6d6d6d-#484848
	TitleFontColor #303030
}

skinparam activity {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	BarColor #00FF00
	StartColor #0060a8
	EndColor #0060a8
	DiamondBackgroundColor #6d6d6d-#3a3a3a
  	DiamondBorderColor #3a3a3a
  	DiamondFontColor #fefefe
}


skinparam participant {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	ParticipantBorderThickness 2
}


skinparam actor {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam arrow {
	Thickness 1.5
	Color #545454
	FontColor #a0a0a0
    FontStyle bold
    MessageAlignment center
}



skinparam sequence {
	BorderColor #303030
	TitleFontColor #303030
	BackgroundColor #333333
	StartColor #303030
	EndColor #303030
	BoxBackgroundColor #333333
	BoxBorderColor #484848
	BoxFontColor #484848
	LifeLineBorderColor #484848
	LifeLineBorderThickness 2
	LifeLineBackgroundColor #3a3a3a
	GroupBorderColor #484848
	GroupFontColor #484848
	GroupHeaderFontColor #0060a8
	GroupBackgroundColor #484848
	GroupHeaderBackgroundColor #333333
	DividerBackgroundColor #484848
    DividerBorderColor #484848
    DividerBorderThickness 2
    DividerFontColor #D8Bc00
	ReferenceBackgroundColor #333333
	ReferenceBorderColor #484848
	ReferenceFontColor #fefefe
	ReferenceHeaderBackgroundColor #484848
}


skinparam partition {
	BorderColor #303030
	FontColor #333333
	BackgroundColor #333333
}


skinparam collections {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam control {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam entity {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam boundary {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam agent {
	BackgroundColor #ff8000
	BorderColor #ff9933
	FontColor #484848
}


skinparam note {
	BorderThickness 1
	BackgroundColor #1b1b1a
	BorderColor #5e5e5e
	FontSize 11
	FontColor #a0a0a0
}


skinparam artifact {
	BorderThickness 10
	BorderColor #5e5e5e
	BackgroundColor #1b1b1a
	FontColor #D8Bc00
}


skinparam component {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam interface {
	BackgroundColor  #008400
	BorderColor  #007F00
	FontColor #484848
}


skinparam storage {
	BackgroundColor #ff8000
  	BorderColor #cc6600
	FontColor #222222
}


skinparam node {
	BackgroundColor #333333
	BorderColor #333333
	FontColor #C8Ac00
}


skinparam cloud {
	BackgroundColor #484848-black
	BorderColor #484848
	FontColor #D8Bc00
}


skinparam database {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	BackgroundColor  #333333
}


skinparam class {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	HeaderBackgroundColor #1b1b1a
    BackgroundColor #282828
    BorderColor #5e5e5e
 	StereotypeFontColor #a0a0a0
    StereotypeFontStyle bold
	BorderThickness 1
	AttributeFontColor #D8Bc00
	AttributeFontSize 11
    FontColor #D8Bc00
    FontStyle bold
}


skinparam object {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	StereotypeFontColor #484848
	BorderThickness 1
	AttributeFontColor #fefefe
	AttributeFontSize 11
}


skinparam usecase {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	BorderThickness 2
	StereotypeFontColor #303030
}


skinparam rectangle {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	BackgroundColor #333333
	BorderThickness 2
	StereotypeFontColor #303030
}


skinparam package {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	BackgroundColor #333333
	BorderThickness 2
}


skinparam folder {
	BackgroundColor #6d6d6d
  	BorderColor #ff8000
	FontColor #ff8000
	BorderThickness 2
}


skinparam frame {
	BackgroundColor #6d6d6d
  	BorderColor #0060a8
	FontColor #0060a8
	BorderThickness 2
}


skinparam state {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
	StartColor #0060a8
	EndColor #0060a8
	AttributeFontColor #fefefe
	AttributeFontSize 11
}


skinparam queue {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}


skinparam card {
	BackgroundColor #0060a8
	BorderColor #004d86
	FontColor $INFO_TEXT
}


skinparam file {
	BackgroundColor #6d6d6d-#484848
	BorderColor #0060a8
	FontColor #fefefe
}


skinparam stack {
		FontColor #C8Ac00
	BorderColor #333333
	BackgroundColor #333333-#333333
}

    
    title "com.telenav.kivakit.core.thread"
    
    abstract AbstractMap
    abstract BaseRepeater
    
    interface Startable
    interface Named
    interface Addable
    interface Runnable
    interface Stoppable
    interface Pausable
    interface Sequence
    
    ArrayList <|- - Batcher.Batch
    class Batcher.Batch
    {
    }
    
    Addable <|- - Batcher.BatchAdder
    Sequence <|- - Batcher.BatchAdder
    class Batcher.BatchAdder
    {
    }
    
    BaseRepeater <|- - Batcher
    class Batcher<Value>
    {
        - -(constructors)- -
        #Batcher()
        #Batcher(Batcher<Value>)
        - -
        +BatchAdder adder()
        +Batcher<Element> batcher()
        #void onBatch(Batch)
        - -(filesystem)- -
        #Batcher<Value> copy()
        - -(functional)- -
        +Batcher<Value> withBatchFullPredicate(Predicate<Batch>)
        +Batcher<Value> withBatchSize(Count size)
        +Batcher<Value> withConsumer(Consumer<Batch>)
        +Batcher<Value> withName(String name)
        +Batcher<Value> withQueueSize(BaseCount<?> size)
        - -(lifecycle)- -
        +void start(Count workers)
        +void stop()
    }
    
    BaseRepeater <|- - KivaKitThread
    Startable <|- - KivaKitThread
    Runnable <|- - KivaKitThread
    Stoppable <|- - KivaKitThread
    Named <|- - KivaKitThread
    class KivaKitThread
    {
        - -(constructors)- -
        +KivaKitThread(String)
        +KivaKitThread(String, Runnable)
        - -
        +KivaKitThread daemon(boolean daemon)
        +boolean is(State)
        +KivaKitThread makeHighPriority()
        +KivaKitThread makeLowPriority()
        +KivaKitThread repeat(Listener, String name, Frequency every, UncheckedVoidCode)
        +StateMachine<State> stateMachine()
        +void whileLocked(Runnable code)
        #void onExited()
        #void onRan()
        #void onWaiting()
        #Thread thread()
        #State transition(State to)
        - -(functional)- -
        +Time startedAt()
        +T whileLocked(Code<T>)
        - -(lifecycle)- -
        +KivaKitThread initialDelay(Duration initialDelay)
        +KivaKitThread interrupt()
        +void join()
        +KivaKitThread run(Listener, String name, Runnable code)
        +KivaKitThread startSynchronously()
        #void onRun()
        #void onRunning()
        #void waitForInitialDelayPeriod()
        - -(thread)- -
        +WakeState waitFor(State, Duration maximumWait)
        +WakeState waitFor(State)
    }
    
    class Monitor
    {
        - -(lifecycle)- -
        +void done()
        - -(thread)- -
        +void await()
        +void signal()
    }
    
    enum ReentrancyTracker.Reentrancy
    {
        ENTERED
        EXITED
        EXITED_REENTRY
        REENTERED
    }
    
    class ReentrancyTracker
    {
        - -
        +Reentrancy enter()
        - -(checks)- -
        +boolean hasReentered()
        - -(lifecycle)- -
        +Reentrancy exit()
    }
    
    KivaKitThread <|- - RepeatingThread
    Pausable <|- - RepeatingThread
    class RepeatingThread
    {
        - -(constructors)- -
        +RepeatingThread(Listener, String)
        +RepeatingThread(Listener, String, Frequency)
        +RepeatingThread(Listener, String, Runnable)
        - -(lifecycle)- -
        +RepeatingThread run(Listener, String name, Runnable code)
        +RepeatingThread run(Listener, String name, Frequency every, Runnable code)
        - -(time)- -
        +Frequency frequency()
        +RepeatingThread frequency(Frequency)
    }
    
    BaseRepeater <|- - Retry
    class Retry
    {
        - -(constructors)- -
        +Retry(Listener)
        +Retry(Listener, int, Duration, Class<? extends Throwable>, String)
        - -
        +UncheckedCode<T> retry(Listener, UncheckedCode<T>, int times, Duration delay, Runnable... beforeRetry)
        - -(lifecycle)- -
        +T run(UncheckedCode<T> runnable, Runnable... stepsBeforeRetry)
    }
    
    enum Batcher.State
    {
        READY
        RUNNING
        STOPPED
        STOPPING
    }
    
    enum KivaKitThread.State
    {
        CREATED
        EXITED
        PAUSED
        PAUSE_REQUESTED
        RAN
        RESUME_REQUESTED
        RUNNING
        STOP_REQUESTED
        WAITING
    }
    
    BaseRepeater <|- - StateMachine
    class StateMachine<State>
    {
        - -(constructors)- -
        +StateMachine(State)
        +StateMachine(State, Consumer<State>)
        - -
        +State at()
        +boolean is(State)
        +boolean is(Predicate<State>)
        +Optional<State> toggle(State one, State two)
        +boolean transition(State from, State to, State waitFor, Duration maximumWait, Runnable before)
        +boolean transition(State from, State to, State waitFor, Runnable before)
        +boolean transition(State from, State to)
        +State transitionTo(State)
        +void whileLocked(Runnable code)
        - -(checks)- -
        +boolean isNot(Predicate<State>)
        +boolean isNot(State)
        - -(functional)- -
        +T whileLocked(Code<T>)
        - -(thread)- -
        +void transitionAndWaitForNot(State)
        +WakeState waitFor(Predicate<State>, Duration maximumWait)
        +WakeState waitFor(State, Duration maximumWait)
        +WakeState waitFor(Predicate<State>)
        +WakeState waitFor(Predicate<State>, Duration maximumWait, Runnable beforeWaiting)
        +WakeState waitFor(State)
        +WakeState waitForNot(State)
        +WakeState waitForNot(State, Duration maximumWait)
    }
    
    class StateWatcher<State>
    {
        - -(constructors)- -
        +StateWatcher(State)
        - -
        +void whileLocked(Runnable code)
        - -(functional)- -
        +T whileLocked(Code<T>)
        - -(thread)- -
        +void signal(State)
        +WakeState waitFor(State desired, Duration maximumWaitTime)
        +WakeState waitFor(Predicate<State>)
        +WakeState waitFor(State desired)
        +WakeState waitFor(Predicate<State>, Duration maximumWaitTime)
    }
    
    AbstractMap <|- - ThreadLocalMap
    class ThreadLocalMap<Key, Value>
    {
    }
    
    class Threads
    {
        - -
        +ThreadGroup rootThreadGroup()
        - -(collection)- -
        +ObjectList<Thread> allThreads()
        - -(thread)- -
        +void awaitTermination(ExecutorService)
        +void shutdownAndAwaitTermination(ExecutorService)
        +ExecutorService threadPool(String name)
        +ExecutorService threadPool(String name, Count threads)
    }
    
    class StateWatcher.Waiter
    {
    }
    
@enduml

PlantUML version 1.2021.01(Tue Feb 02 00:55:08 MST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>